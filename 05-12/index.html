<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../styles.css" />

    <title>05-12</title>
  </head>
  <body>
    <section class="exercise">
      <h3>1. Преобразуйте объект в JSON, а затем обратно в обычный объект</h3>
      <p>
        Преобразуйте user в JSON, затем прочитайте этот JSON в другую
        переменную.
      </p>
      <pre class="code">
        let user = {
          name: "Василий Иванович",
          age: 35
        };</pre
      >
    </section>
    <section class="exercise">
      <h3>2. Исключить обратные ссылки</h3>
      <p>
        В простых случаях циклических ссылок мы можем исключить свойство, из-за
        которого они возникают, из сериализации по его имени.
      </p>
      <p>
        Но иногда мы не можем использовать имя, так как могут быть и другие,
        нужные, свойства с этим именем во вложенных объектах. Поэтому можно
        проверять свойство по значению.
      </p>
      <p>
        Напишите функцию replacer для JSON-преобразования, которая удалит
        свойства, ссылающиеся на meetup:
      </p>
      <pre class="code">
        let room = {
          number: 23
        };
        
        let meetup = {
          title: "Совещание",
          occupiedBy: [{name: "Иванов"}, {name: "Петров"}],
          place: room
        };
        
        // цикличные ссылки
        room.occupiedBy = meetup;
        meetup.self = meetup;
        
        alert( JSON.stringify(meetup, function replacer(key, value) {
          /* ваш код */
        }));
        
        /* в результате должно быть:
        {
          "title":"Совещание",
          "occupiedBy":[{"name":"Иванов"},{"name":"Петров"}],
          "place":{"number":23}
        }
        */</pre
      >
    </section>
  </body>
  <script src="script.js"></script>
</html>
